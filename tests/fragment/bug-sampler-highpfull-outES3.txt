#version 300 es
uniform highp vec4 _ZBufferParams;
uniform sampler2D _MainTex;
uniform highp sampler2D _CameraDepthTexture;
uniform sampler2D _VelTex;
uniform sampler2D _NeighbourMaxTex;
uniform sampler2D _NoiseTex;
uniform highp vec4 _MainTex_TexelSize;
uniform highp float _Jitter;
uniform highp float _MaxVelocity;
uniform highp float _SoftZDistance;
in highp vec2 xlv_TEXCOORD0;
out mediump vec4 _fragData;
void main ()
{
  highp vec2 tmpvar_1;
  tmpvar_1 = xlv_TEXCOORD0;
  highp vec4 jitteredDir_3;
  highp vec4 sum_4;
  highp float weight_5;
  highp float zx_6;
  highp vec2 vx_7;
  highp vec2 x_8;
  highp vec2 xf_9;
  xf_9 = xlv_TEXCOORD0;
  x_8 = xlv_TEXCOORD0;
  if ((_MainTex_TexelSize.y < 0.0)) {
    xf_9.y = (1.0 - xlv_TEXCOORD0.y);
  };
  lowp vec4 tmpvar_10;
  tmpvar_10 = textureLod (_NeighbourMaxTex, xf_9, 0.0);
  highp vec2 tmpvar_11;
  tmpvar_11 = tmpvar_10.xy;
  lowp vec4 tmpvar_12;
  tmpvar_12 = textureLod (_MainTex, xlv_TEXCOORD0, 0.0);
  highp vec4 tmpvar_13;
  tmpvar_13 = tmpvar_12;
  lowp vec4 tmpvar_14;
  tmpvar_14 = textureLod (_VelTex, xf_9, 0.0);
  highp vec2 tmpvar_15;
  tmpvar_15 = tmpvar_14.xy;
  vx_7 = tmpvar_15;
  highp vec4 tmpvar_16;
  tmpvar_16.zw = vec2(0.0, 0.0);
  tmpvar_16.xy = xlv_TEXCOORD0;
  highp vec4 coord_17;
  coord_17 = (tmpvar_16 * 11.0);
  lowp vec4 tmpvar_18;
  tmpvar_18 = textureLod (_NoiseTex, coord_17.xy, coord_17.w);
  highp vec4 tmpvar_19;
  tmpvar_19 = ((tmpvar_18 * 2.0) - 1.0);
  lowp vec4 tmpvar_20;
  tmpvar_20 = textureLod (_CameraDepthTexture, xlv_TEXCOORD0, 0.0);
  highp float tmpvar_21;
  tmpvar_21 = tmpvar_20.x;
  zx_6 = -((1.0/((
    (_ZBufferParams.x * tmpvar_21)
   + _ZBufferParams.y))));
  weight_5 = 1.0;
  sum_4 = tmpvar_13;
  highp vec4 tmpvar_22;
  tmpvar_22 = (tmpvar_11.xyxy + (tmpvar_19 * (_MainTex_TexelSize.xyxy * _Jitter)).xyyz);
  jitteredDir_3 = ((max (
    abs(tmpvar_22.xyxy)
  , 
    ((_MainTex_TexelSize.xyxy * _MaxVelocity) * 0.15)
  ) * sign(tmpvar_22.xyxy)) * vec4(1.0, 1.0, -1.0, -1.0));
  for (highp int l_2 = 0; l_2 < 12; l_2++) {
    highp float zy_23;
    highp vec4 yf_24;
    highp vec4 tmpvar_25;
    tmpvar_25 = (tmpvar_1.xyxy + ((jitteredDir_3.xyxy * vec2[12](vec2(-0.326212, -0.40581), vec2(-0.840144, -0.07358), vec2(-0.695914, 0.457137), vec2(-0.203345, 0.620716), vec2(0.96234, -0.194983), vec2(0.473434, -0.480026), vec2(0.519456, 0.767022), vec2(0.185461, -0.893124), vec2(0.507431, 0.064425), vec2(0.89642, 0.412458), vec2(-0.32194, -0.932615), vec2(-0.791559, -0.59771))[l_2].xyxy) * vec4(1.0, 1.0, -1.0, -1.0)));
    yf_24 = tmpvar_25;
    if ((_MainTex_TexelSize.y < 0.0)) {
      yf_24.yw = (1.0 - tmpvar_25.yw);
    };
    lowp vec4 tmpvar_26;
    tmpvar_26 = textureLod (_VelTex, yf_24.xy, 0.0);
    highp vec2 tmpvar_27;
    tmpvar_27 = tmpvar_26.xy;
    lowp vec4 tmpvar_28;
    tmpvar_28 = textureLod (_CameraDepthTexture, tmpvar_25.xy, 0.0);
    highp float tmpvar_29;
    tmpvar_29 = tmpvar_28.x;
    zy_23 = -((1.0/((
      (_ZBufferParams.x * tmpvar_29)
     + _ZBufferParams.y))));
    highp vec2 x_30;
    x_30 = (x_8 - tmpvar_25.xy);
    highp vec2 x_31;
    x_31 = (tmpvar_25.xy - x_8);
    highp float tmpvar_32;
    tmpvar_32 = sqrt(dot (tmpvar_27, tmpvar_27));
    highp vec2 x_33;
    x_33 = (tmpvar_25.xy - x_8);
    highp float edge0_34;
    edge0_34 = (0.95 * tmpvar_32);
    highp float tmpvar_35;
    tmpvar_35 = clamp (((
      sqrt(dot (x_33, x_33))
     - edge0_34) / (
      (1.05 * tmpvar_32)
     - edge0_34)), 0.0, 1.0);
    highp float tmpvar_36;
    tmpvar_36 = sqrt(dot (vx_7, vx_7));
    highp vec2 x_37;
    x_37 = (x_8 - tmpvar_25.xy);
    highp float edge0_38;
    edge0_38 = (0.95 * tmpvar_36);
    highp float tmpvar_39;
    tmpvar_39 = clamp (((
      sqrt(dot (x_37, x_37))
     - edge0_38) / (
      (1.05 * tmpvar_36)
     - edge0_38)), 0.0, 1.0);
    highp float tmpvar_40;
    tmpvar_40 = (((
      clamp ((1.0 - ((zy_23 - zx_6) / _SoftZDistance)), 0.0, 1.0)
     * 
      clamp ((1.0 - (sqrt(
        dot (x_30, x_30)
      ) / sqrt(
        dot (vx_7, vx_7)
      ))), 0.0, 1.0)
    ) + (
      clamp ((1.0 - ((zx_6 - zy_23) / _SoftZDistance)), 0.0, 1.0)
     * 
      clamp ((1.0 - (sqrt(
        dot (x_31, x_31)
      ) / sqrt(
        dot (tmpvar_27, tmpvar_27)
      ))), 0.0, 1.0)
    )) + ((
      (1.0 - (tmpvar_35 * (tmpvar_35 * (3.0 - 
        (2.0 * tmpvar_35)
      ))))
     * 
      (1.0 - (tmpvar_39 * (tmpvar_39 * (3.0 - 
        (2.0 * tmpvar_39)
      ))))
    ) * 2.0));
    lowp vec4 tmpvar_41;
    tmpvar_41 = textureLod (_MainTex, tmpvar_25.xy, 0.0);
    highp vec4 tmpvar_42;
    tmpvar_42 = tmpvar_41;
    sum_4 = (sum_4 + (tmpvar_42 * tmpvar_40));
    weight_5 = (weight_5 + tmpvar_40);
  };
  highp vec4 tmpvar_43;
  tmpvar_43 = (sum_4 / weight_5);
  _fragData = tmpvar_43;
}


// stats: 99 alu 8 tex 4 flow
// inputs: 1
//  #0: xlv_TEXCOORD0 (high float) 2x1 [-1]
// uniforms: 5 (total size: 0)
//  #0: _ZBufferParams (high float) 4x1 [-1]
//  #1: _MainTex_TexelSize (high float) 4x1 [-1]
//  #2: _Jitter (high float) 1x1 [-1]
//  #3: _MaxVelocity (high float) 1x1 [-1]
//  #4: _SoftZDistance (high float) 1x1 [-1]
// textures: 5
//  #0: _MainTex (low 2d) 0x0 [-1]
//  #1: _CameraDepthTexture (high 2d) 0x0 [-1]
//  #2: _VelTex (low 2d) 0x0 [-1]
//  #3: _NeighbourMaxTex (low 2d) 0x0 [-1]
//  #4: _NoiseTex (low 2d) 0x0 [-1]
